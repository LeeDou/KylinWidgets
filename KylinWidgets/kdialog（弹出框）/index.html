<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<title>test</title>

	<script src="../KylinJS.js/KylinJS.js"></script>
	<script src="../ky1.0/kcodeview（代码浏览器）/kcodeview-html.js"></script>
	<script src="../ky1.0/kcodeview（代码浏览器）/kcodeview-js.js"></script>
	<link rel="stylesheet" href="../ky1.0/kcodeview（代码浏览器）/kcodeview.css">
	<link rel="stylesheet" href="../test-common.css">

	<script src="js/_baseutils.js"></script>
	<script src="js/kdialog.js"></script>

	<style type="text/css">
		#status_show {
			font-size: 30px;
		}
	</style>
</head>

<body>

	<h1 class="page-title">演示 kdialog（弹出框）+ 订阅者模式</h1>

	<section class="section-box">
		<p>
			我是header模块，我订阅了comfirm的"result"事件，当用户点击了comfirm的按键时，本模块状态数据根据"result"事件发布的内容发生改变
		</p>
		<h2>[status: <strong id="status_show">undefined</strong>]</h2>

		<div>
			<button id="btn_dialog_show" class="btn">dialog-show</button>
			<button id="btn_alert_show" class="btn">alert-show</button>
			<button id="btn_confirm_show" class="btn">comfirm-show</button>
		</div>
	</section>
	<script type="text/javascript">
		// -----test----- //
		var mydialog = new Dialog();
		mydialog.init({
			'title': 'error',
			'content': '您的操作出错！',
			'type': 'error'
		});

		var myalert = new Alert();
		myalert.init({
			'title': 'warning',
			'content': '警告，您的数据出现异常！',
			'type': 'warning'
		});

		var myconfirm = new Confirm();
		myconfirm.init({
			'title': 'success',
			'content': '操作成功！',
			'type': 'success',
			'useMask': true
		});

		btn_dialog_show.onclick = function() {
			mydialog.show();
		}

		btn_alert_show.onclick = function() {
			myalert.show();
		}

		btn_confirm_show.onclick = function() {
			myconfirm.show();
		}

		// --result事件订阅-- //
		myconfirm.on('result', function(msg) {
			status_show.innerHTML = msg;
		});
	</script>
	<hr>

	<section class="section-box">
		<h2 class="section-title">组件结构以及初始化</h2>
		<section class="section-box-left">
			<div class="ky-codeview-wrap" id="codeViewHtml">
				<pre>
<code>
<p>
	我是header模块，我订阅了comfirm的"result"事件，当用户点击了comfirm的按键时，本模块状态数据根据"result"事件发布的内容发生改变
</p>
<h2>[status: <strong id="status_show">undefined</strong>]</h2>

<div>
	<button id="btn_dialog_show" class="btn">dialog-show</button>
	<button id="btn_alert_show" class="btn">alert-show</button>
	<button id="btn_confirm_show" class="btn">comfirm-show</button>
</div></code>
				</pre>
			</div>
		</section>
		<section class="section-box-right">
			<div class="ky-codeview-wrap" id="codeViewJs">
				<pre>
<code>
// -----test----- //
var mydialog = new Dialog();
mydialog.init({
	'title': 'error',
	'content': '您的操作出错！',
	'type': 'error'
});

var myalert = new Alert();
myalert.init({
	'title': 'warning',
	'content': '警告，您的数据出现异常！',
	'type': 'warning'
});

var myconfirm = new Confirm();
myconfirm.init({
	'title': 'success',
	'content': '操作成功！',
	'type': 'success',
	'useMask': true
});

btn_dialog_show.onclick = function() {
	mydialog.show();
}

btn_alert_show.onclick = function() {
	myalert.show();
}

btn_confirm_show.onclick = function() {
	myconfirm.show();
}

// --result事件订阅-- //
myconfirm.on('result', function(msg) {
	status_show.innerHTML = msg;
});</code>
				</pre>
			</div>
		</section>
	</section>

	<script type="text/javascript">
		var obj = {
			'font-size': '18px',
			'line-height': '28px'
		};
		KcodeviewHtml(codeViewHtml).init(obj);
		KcodeviewJs(codeViewJs).init(obj);
	</script>
</body>

</html>
